{"version":3,"sources":["webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/components/cart/confirm/goods.vue?71e6","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/components/cart/confirm/goods.vue?1edf","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/components/cart/confirm/goods.vue?4030","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/components/cart/confirm/goods.vue?c4aa","uni-app:///components/cart/confirm/goods.vue","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/components/cart/confirm/goods.vue?3f8a"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","PayPopup","props","type","Number","String","default","list","Array","invoice_type","coupon_list","is_coupon","expected","integration","deductionIntegration","date","data","pay_popup_show","pay_list","pay_index","cash_pay_on","coupon_popup_show","coupon_index","num","store","start","end","arrivalDate","isInitDate","isIos","banlance","bestIntegration","mounted","getPayMethod","getSystemInfo","methods","initReceiveDate","$emit","getDate","setTime","getTime","day","y","wx","success","res","platform","dateChange","value","MsecTime","year","month","togglePayPopup","toggleCouponPopup","length","getGuige","computed","integrationBalance","parseFloat","integration_balance","integrationAmount","integration_amount","cash_pay_warn","coupon_active_value","coupon_name","_expected","expected_receive_date","watch","n","best_integration","o"],"mappings":"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","file":"components/cart/confirm/goods.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./goods.vue?vue&type=template&id=389199da&scoped=true&\"\nvar renderjs\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&id=389199da&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"389199da\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/cart/confirm/goods.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=template&id=389199da&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"goods-panel\">\r\n    <div class=\"list\">\r\n      <div v-for=\"(item, index) in list\" :key=\"index\">\r\n        <template v-if=\"type == 0\">\r\n          <!-- 单品 -->\r\n          <template v-if=\"item.type == 1\">\r\n            <div v-for=\"(goods, goods_i) in item.items\" :key=\"goods_i\">\r\n              <ProductGoods :goods=\"goods\"></ProductGoods>\r\n            </div>\r\n          </template>\r\n          <!-- 套餐 -->\r\n          <template v-if=\"item.type == 2\">\r\n            <PackageGoods :item=\"item\"></PackageGoods>\r\n          </template>\r\n        </template>\r\n        <template v-if=\"type == 1\">\r\n          <ProductGoods :goods=\"item\"></ProductGoods>\r\n        </template>\r\n      </div>\r\n      <template v-if=\"type == 2\">\r\n        <PackageGoods :item=\"list\"></PackageGoods>\r\n      </template>\r\n    </div>\r\n    <!-- 发票 -->\r\n    <div class=\"line border-1px-b flex-bc\" @click=\"$nav('invoice')\">\r\n      <div class=\"left\">发票</div>\r\n      <div class=\"right flex-c\">\r\n        <span class=\"placeholder\" v-if=\"invoice_type === 0 && !cash_pay_warn\">请选择发票</span>\r\n        <span v-if=\"invoice_type === 0 && cash_pay_warn\">需收款后开票，建议选择线上支付</span>\r\n        <span v-if=\"invoice_type === 1\">电子(商品明细-个人)</span>\r\n        <span v-if=\"invoice_type === 2\">电子(商品明细-企业)</span>\r\n        <i class=\"iconfont icon-right\"></i>\r\n      </div>\r\n    </div>\r\n    <!-- 支付方式 -->\r\n    <div\r\n      class=\"line flex-bc\"\r\n      :class=\"{\r\n      'border-1px-b': is_coupon\r\n    }\"\r\n      v-if=\"pay_list\"\r\n      @click=\"togglePayPopup\"\r\n    >\r\n      <div class=\"left\">支付方式</div>\r\n      <div class=\"right flex-c\">\r\n        <span>{{ pay_list[pay_index].title }}</span>\r\n        <i class=\"iconfont icon-right\"></i>\r\n      </div>\r\n    </div>\r\n    <!-- 优惠卷 -->\r\n    <div class=\"line flex-bc border-1px-b\" v-if=\"is_coupon\" @click=\"toggleCouponPopup\">\r\n      <div class=\"left\">优惠卷</div>\r\n      <div class=\"right flex-c\">\r\n        <span>{{coupon_active_value}}</span>\r\n        <i class=\"iconfont icon-right\"></i>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 勋章抵扣 -->\r\n    <div class=\"line flex-bc\">\r\n      <div class=\"left\">勋章抵扣</div>\r\n      <div class=\"right flex-c\" style=\"margin-right:40rpx;\">\r\n        <span>抵</span>\r\n        <span class=\"unit\">￥</span>\r\n        <span class=\"price\">{{integrationAmount}}</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 输入数量 -->\r\n    <div class=\"btn-row flex-c\">\r\n      <div class=\"left\">\r\n        <span>可用</span>\r\n        <span class=\"value\">{{banlance}}</span>\r\n        <span>个勋章，使用</span>\r\n      </div>\r\n      <div class=\"middle\">\r\n        <Stepper\r\n          :stepper_value.sync=\"deductionIntegration\"\r\n          :min=\"0\"\r\n          :max=\"bestIntegration\"\r\n          :section=\"10\"\r\n          :integer=\"true\"\r\n          @updateNum=\"getGuige\"\r\n        ></Stepper>\r\n      </div>\r\n      <span>个</span>\r\n    </div>\r\n    <div class=\"desc  border-1px-b\">\r\n      勋章抵扣数值需是10的倍数，小于10勋章数无法抵扣\r\n    </div>\r\n    <!-- 到货日期 -->\r\n    <div class=\"position-row\" v-if=\"expected\">\r\n      <div class=\"line editor-line flex-bc\">\r\n        <div class=\"left date-row flex-c\">\r\n          <span>预计到货日期</span>\r\n          <div class=\"date\">{{date||''}}</div>\r\n        </div>\r\n        <div class=\"right flex-c\">\r\n          <div class=\"editor\">修改</div>\r\n          <img :lazy-load=\"true\" class=\"editor-icon\" src=\"/static/images/icon/1.png\" mode=\"aspectFill\" />\r\n        </div>\r\n      </div>\r\n      <picker mode=\"date\" :start=\"start\" :end=\"end\" :value=\"date\" @change=\"dateChange\">\r\n        <view class=\"date-picker\">当前选择: {{date}}-{{start}}</view>\r\n      </picker>\r\n    </div>\r\n\r\n    <!-- 支付方式弹窗 -->\r\n    <PayPopup :show.sync=\"pay_popup_show\" :list=\"pay_list\" :index.sync=\"pay_index\"></PayPopup>\r\n    <!-- 优惠卷弹窗 -->\r\n    <CouponPopup :show.sync=\"coupon_popup_show\" :list=\"coupon_list\" :index.sync=\"coupon_index\"></CouponPopup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PayPopup from './payPopup'\r\nimport ProductGoods from './productGoods'\r\nimport PackageGoods from './packageGoods'\r\nimport CouponPopup from './couponPopup'\r\nimport Stepper from '@/components/common/stepper/index.vue'\r\n\r\nexport default {\r\n  components: { PayPopup, ProductGoods, PackageGoods, CouponPopup, Stepper },\r\n  props: {\r\n    type: {\r\n      type: [Number, String],\r\n      default: 0\r\n    }, // 商品类型\r\n    list: Array,\r\n    invoice_type: Number,\r\n    // 可用优惠卷信息\r\n    coupon_list: Array,\r\n    is_coupon: {\r\n      type: null,\r\n      default: true\r\n    },\r\n    // 预约信息\r\n    expected: {\r\n      default: null\r\n    },\r\n    // 勋章\r\n    integration: {\r\n      default: null\r\n    },\r\n    // 使用勋章数量\r\n    deductionIntegration: {\r\n      default: 0\r\n    },\r\n    // 到货日期\r\n    date: {\r\n      default: null\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      pay_popup_show: false,\r\n      pay_list: '',\r\n      pay_index: 0,\r\n      cash_pay_on: true, // 货到付款是否开启\r\n      // 优惠卷数据\r\n      coupon_popup_show: false,\r\n      coupon_index: '',\r\n      num: 1,\r\n      store: 1,\r\n      // date: '',\r\n      start: '',\r\n      end: '',\r\n      arrivalDate: '',\r\n      isInitDate: false,\r\n      isIos: false,\r\n      banlance: 0,\r\n      bestIntegration: 0\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getPayMethod()\r\n    this.getSystemInfo()\r\n    // this.initDeductionIntegration()\r\n    // this.$Bus.$on('onAddCart', res => {\r\n    //   console.log('重置勋章')\r\n    //   this.initDeductionIntegration()\r\n    // })\r\n  },\r\n  methods: {\r\n    // 重置勋章可用数量\r\n    // initDeductionIntegration (n = false) {\r\n    //   let i = 0\r\n    //   if (n !== false) {\r\n    //     i = n\r\n    //   } else if (this.integration) {\r\n    //     i = parseInt(this.integration.best_integration)\r\n    //   }\r\n    //   this.$emit('update:deductionIntegration', i)\r\n    //   this.$emit('getConfirmData')\r\n    // },\r\n    // 重置到货日期显示\r\n    initReceiveDate (date) {\r\n      this.$emit('update:date', date)\r\n    },\r\n    getDate (day) {\r\n      let date = new Date()\r\n      date.setTime(date.getTime() + 24 * 60 * 60 * 1000 * day)\r\n      let y = date.getFullYear()\r\n      let m = (date.getMonth() + 1).toString().padStart(2, '0')\r\n      let d = date\r\n        .getDate()\r\n        .toString()\r\n        .padStart(2, '0')\r\n\r\n      return { y, m, d }\r\n    },\r\n    getSystemInfo () {\r\n      this.start = null\r\n      this.end = null\r\n      wx.getSystemInfo({\r\n        success: res => {\r\n          if (res.platform === 'devtools') {\r\n            // PC\r\n            this.isIos = false\r\n          } else if (res.platform === 'ios') {\r\n            // IOS\r\n            this.isIos = true\r\n          } else if (res.platform === 'android') {\r\n            // android\r\n            this.isIos = false\r\n          }\r\n\r\n          if (this.expected && this.expected.expected_receive_date) {\r\n            let date = new Date(this.expected.expected_receive_date)\r\n\r\n            // date.setTime(date.getTime() - 24 * 60 * 60 * 1000)\r\n            let y = date.getFullYear()\r\n            let m = (date.getMonth() + 1).toString().padStart(2, '0')\r\n            let d = date\r\n              .getDate()\r\n              .toString()\r\n              .padStart(2, '0')\r\n            let q = this.isIos ? '/' : '-'\r\n            this.start = `${y}${q}${m}${q}${d}`\r\n            let endData = this.getDate(365)\r\n            this.end = `${endData.y}${q}${endData.m}${q}${endData.d}`\r\n          }\r\n        }\r\n      })\r\n    },\r\n    dateChange ({\r\n      mp: {\r\n        detail: { value }\r\n      }\r\n    }) {\r\n      this.$emit('update:date', value)\r\n      // let date = this.date\r\n      // if (\r\n      //   this.expected &&\r\n      //   this.expected.not_date &&\r\n      //   this.expected.not_date.length > 0\r\n      // ) {\r\n      //   let bool =\r\n      //     this.expected.not_date.indexOf(value) >= 0 || value === this.start;\r\n      //   if (bool) {\r\n      //     this.$emit(\"update:date\", \"\");\r\n      //     this.$toast(\"不可以选择此日期\");\r\n      //   } else {\r\n      //     date = value;\r\n      //   }\r\n\r\n      //   this.$emit(\"update:date\", date);\r\n      // }\r\n    },\r\n    MsecTime (time) {\r\n      const date = new Date(Number(time))\r\n      const year = date.getFullYear()\r\n      const month = (date.getMonth() + 1).toString().padStart(2, '0')\r\n      const day = date\r\n        .getDate()\r\n        .toString()\r\n        .padStart(2, '0')\r\n      return [year, month, day]\r\n    },\r\n    togglePayPopup () {\r\n      if (this.cash_pay_on) {\r\n        this.pay_popup_show = !this.pay_popup_show\r\n      }\r\n    },\r\n    toggleCouponPopup () {\r\n      if (this.coupon_list.length > 0) {\r\n        this.coupon_popup_show = !this.coupon_popup_show\r\n      }\r\n    },\r\n    async getPayMethod () {\r\n      const { is_group: isGroup } = this.$root.$mp.query\r\n      let args = {\r\n        url: this.api('getPayMethod'),\r\n        data: {\r\n          order_type:\r\n            typeof isGroup !== 'undefined' && Number(isGroup) === 1 ? 4 : 0\r\n        }\r\n      }\r\n      let res = await this.get(args)\r\n      if (res.status) {\r\n        let re = res.data\r\n        this.pay_list = re.arr\r\n        this.cash_pay_on = Number(re.is_open_cash_on_delivery) === 1\r\n      } else {\r\n        this.$toast(res.msg)\r\n      }\r\n    },\r\n    getGuige () {\r\n      this.$emit('update:deductionIntegration', this.deductionIntegration)\r\n      this.$emit('getConfirmData')\r\n    }\r\n  },\r\n  computed: {\r\n    // 最大可用勋章\r\n    // bestIntegration() {\r\n    //   if (this.integration) {\r\n    //     return parseInt(this.integration.best_integration);\r\n    //   }\r\n    //   return 0;\r\n    // },\r\n    // 勋章余额\r\n    integrationBalance () {\r\n      if (this.integration) {\r\n        return parseFloat(this.integration.integration_balance)\r\n      }\r\n      return 0\r\n    },\r\n    integrationAmount () {\r\n      if (this.integration) {\r\n        return parseFloat(this.integration.integration_amount)\r\n      }\r\n      return 0\r\n    },\r\n    // _arrivalDate () {\r\n    //   if (this.date) {\r\n    //     let arr = this.date.split('-')\r\n    //     return `${arr[1]}月${arr[2]}日`\r\n    //   }\r\n\r\n    //   return ''\r\n    // },\r\n    // 货到付款发票警告\r\n    cash_pay_warn: function () {\r\n      if (!this.pay_list) {\r\n        return false\r\n      }\r\n      if (this.cash_pay_on) {\r\n        if (\r\n          this.pay_list[this.pay_index].type * 1 === 2 &&\r\n          this.invoice_type === 0\r\n        ) {\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    coupon_active_value () {\r\n      if (this.coupon_list && this.coupon_list.length === 0) return '无可用优惠卷'\r\n      if (this.coupon_index === '') return '有可用优惠卷'\r\n      return this.coupon_list[this.coupon_index].coupon_name\r\n    },\r\n    _expected () {\r\n      this.getSystemInfo()\r\n      if (\r\n        this.expected &&\r\n        this.expected.expected_receive_date &&\r\n        this.isInitDate === false\r\n      ) {\r\n        this.initReceiveDate(this.expected.expected_receive_date)\r\n        this.isInitDate = true\r\n      }\r\n      return false\r\n    }\r\n  },\r\n  watch: {\r\n    coupon_index () {\r\n      this.$emit('getConfirmData')\r\n    },\r\n    expected (n) {\r\n      this.getSystemInfo()\r\n    },\r\n    bestIntegration (n, o) {\r\n      // 最大可用勋章数量改变时，重新赋值\r\n      this.$emit('update:deductionIntegration', n)\r\n      this.$emit('getConfirmData')\r\n    },\r\n    integration (n, o) {\r\n      if (n) {\r\n        this.banlance = n.integration_balance\r\n        this.bestIntegration = this.integration.best_integration\r\n        if (!o) {\r\n          this.bestIntegration = n.best_integration\r\n        } else if (n.best_integration !== o.best_integration) {\r\n          this.bestIntegration = n.best_integration\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.goods-panel {\r\n  margin-bottom: 20rpx;\r\n  padding: 0 20rpx;\r\n\r\n  .bg;\r\n  .br;\r\n  .line {\r\n    height: 100rpx;\r\n    font-size: 28rpx;\r\n    .left {\r\n      color: #999;\r\n    }\r\n    .right {\r\n      color: #333;\r\n      .lh;\r\n      .iconfont {\r\n        margin-left: 20rpx;\r\n      }\r\n      .placeholder {\r\n        color: #999;\r\n      }\r\n    }\r\n\r\n    .unit {\r\n      font-family: SourceHanSansCN-Medium;\r\n      font-size: 28rpx;\r\n      color: #fb2142;\r\n    }\r\n    .price {\r\n      font-family: WeChatNumber-151125;\r\n      font-size: 28rpx;\r\n      color: #fb2142;\r\n    }\r\n\r\n    .date {\r\n      margin-left: 20rpx;\r\n      font-family: SourceHanSansCN-Regular;\r\n      font-size: 28rpx;\r\n      color: #333333;\r\n    }\r\n\r\n    .editor {\r\n      font-family: SourceHanSansCN-Regular;\r\n      font-size: 28rpx;\r\n      color: #0a2d8f;\r\n    }\r\n    .editor-icon {\r\n      width: 30rpx;\r\n      height: 30rpx;\r\n      margin-left: 10rpx;\r\n      display: block;\r\n    }\r\n  }\r\n  .desc {\r\n    color: #fb2142;\r\n    font-size: 24rpx;\r\n    padding-bottom: 20rpx;\r\n  }\r\n  .position-row {\r\n    position: relative;\r\n    .date-picker {\r\n      width: 100%;\r\n      height: 100%;\r\n      z-index: 10;\r\n      opacity: 0;\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n    }\r\n  }\r\n  .btn-row {\r\n    padding-bottom: 20rpx;\r\n    font-family: SourceHanSansCN-Regular;\r\n    font-size: 28rpx;\r\n    color: #333333;\r\n\r\n    .value {\r\n      font-family: SourceHanSansCN-Regular;\r\n      font-size: 28rpx;\r\n      color: #fb2142;\r\n    }\r\n    .middle {\r\n      padding: 0 30rpx;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&id=389199da&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&id=389199da&lang=less&scoped=true&\""],"sourceRoot":""}