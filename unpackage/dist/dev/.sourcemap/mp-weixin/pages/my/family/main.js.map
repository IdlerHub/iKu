{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/my/family/main.vue?56e5","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/my/family/main.vue?f239","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/my/family/main.vue?c23c","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/my/family/main.vue?0b49","uni-app:///pages/my/family/main.vue","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/my/family/main.vue?13f6"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","mixins","Tab","Classes","BuyButton","MenuGroup","GuigePopup","Stepper","data","imgProcess","$imgProcess","tab_list","name","type","tab_index","page","limit","total_pages","tags","loadSuccess","recommend","list","load_more_status","sharePageKey","customobj","profile","share","cart","guige_type","goods_id","spec_id","guige_open_type","guige_popup_show","total_price","mounted","parseInt","$root","$mp","query","index","getList","computed","allchecked","length","findIndex","methods","changeCartNum","calculationOverdueListPrice","AddCart","item","wx","nextTick","selectItem","checked","splice","selectItemAll","map","clickTab","Showfun","obj","content_type","$Tool","SetRecordParameter","buy","RefreshList","watch","onPullDownRefresh","stopPullDownRefresh","onReachBottom","onShareAppMessage","SetRecordScene","content_id","sharePageTitle","title","path","onUnload","SetBrowseID"],"mappings":"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","file":"pages/my/family/main.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/my/family/main.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./main.vue?vue&type=template&id=02f709da&scoped=true&\"\nvar renderjs\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=02f709da&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02f709da\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/my/family/main.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=02f709da&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"family\">\r\n    <div class=\"top-fixed\">\r\n      <Tab\r\n        :tab_list=\"tab_list\"\r\n        :tab_index.sync=\"tab_index\"\r\n        @clickTab=\"clickTab\"\r\n      ></Tab>\r\n    </div>\r\n    <div class=\"below\">\r\n      <div\r\n        class=\"tag\"\r\n        v-show=\"tags[tab_index]\"\r\n      >{{ tags[tab_index] }}</div>\r\n      <!-- 课堂列表 -->\r\n      <Classes\r\n        v-if=\"tab_index == 0\"\r\n        :loadSuccess=\"loadSuccess\"\r\n        :history=\"list\"\r\n        :recommend=\"recommend\"\r\n      ></Classes>\r\n      <!-- 现有器材 -->\r\n      <div\r\n        v-if=\"tab_index == 1\"\r\n        style=\"padding-top: 20rpx\"\r\n      >\r\n        <div\r\n          v-for=\"(item, index) in list\"\r\n          :key=\"index\"\r\n          class=\"item\"\r\n        >\r\n          <img\r\n            :src=\"item.thumb + imgProcess.wh200\"\r\n            mode=\"aspectFill\"\r\n            @click=\"$nav('goodsDetail', { product_sn: item.product_sn })\"\r\n          >\r\n          <div class=\"content\">\r\n            <p class=\"content-title\">{{ item.product_name }}</p>\r\n            <div>\r\n              <p>拥有数量 x{{ item.order_count }}</p>\r\n              <p>购入日期 {{ item.order_date }}</p>\r\n              <p>更换日期 {{ item.expire_date }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 即将过期 -->\r\n      <div\r\n        v-if=\"tab_index == 2\"\r\n        style=\"padding-top: 20rpx;padding-bottom: 100rpx;\"\r\n      >\r\n        <div\r\n          v-for=\"(item, index) in list\"\r\n          :key=\"index\"\r\n          class=\"item\"\r\n        >\r\n          <div\r\n            class=\"icon-box flex-c\"\r\n            v-if=\"item.goods_price.status\"\r\n            @click=\"selectItem(item, index)\"\r\n          >\r\n            <i\r\n              class=\"iconfont icon-roundcheckfill\"\r\n              v-if=\"item.checked\"\r\n            ></i>\r\n            <i\r\n              class=\"iconfont icon-round\"\r\n              v-else\r\n            ></i>\r\n          </div>\r\n          <div class=\"flex-1 flex-c\">\r\n            <div class=\"goodsimgbox\">\r\n              <img\r\n                :src=\"item.img + imgProcess.wh200\"\r\n                mode=\"aspectFill\"\r\n                @click=\"$nav('goodsDetail', { product_sn: item.product_sn })\"\r\n              />\r\n              <div class=\"goodsimgboxtop\" v-if=\"!item.goods_price.status\" @click.stop>已下架</div>\r\n            </div>\r\n            <div class=\"content\">\r\n              <div>\r\n                <p class=\"content-title content-title2\">{{ item.product_name || '--' }}</p>\r\n                <!-- <p>有效期 {{ item.effective_year }}年</p> -->\r\n              </div>\r\n              <div class=\"bottom\">\r\n                <div class=\"flex\">\r\n                  <div class=\"bottom-label\">拥有数量</div>\r\n                  <div class=\"bottom-text flex-1 flex-e\">x{{ item.order_count }}</div>\r\n                </div>\r\n                <div class=\"flex\">\r\n                  <div class=\"bottom-label\">距过期</div>\r\n                  <div class=\"bottom-text flex-1 flex-e\">{{item.warnning_day}}</div>\r\n                </div>\r\n                <div class=\"flex\">\r\n                  <div class=\"bottom-label\">更换日期</div>\r\n                  <div class=\"bottom-text flex-1 flex-e\">{{ item.expire_date }}</div>\r\n                </div>\r\n                <div class=\"flex\">\r\n                  <div class=\"bottom-label\">购入日期</div>\r\n                  <div class=\"bottom-text flex-1 flex-e\">{{ item.add_time_text }}</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"flex-bc\" v-if=\"item.goods_price.status\">\r\n                <span>￥{{ item.goods_price.data.actual_price }}</span>\r\n                <Stepper\r\n                  :stepper_value.sync=\"item.order_count_copy\"\r\n                  @updateNum=\"changeCartNum(item,index)\"\r\n                ></Stepper>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"bottom-fixed flex-bc\" v-if=\"list && list.length > 0\">\r\n          <div class=\"left flex-c\" @click=\"selectItemAll\">\r\n            <i class=\"iconfont icon-roundcheckfill\" v-if=\"allchecked\"></i>\r\n            <i class=\"iconfont icon-round\" v-else></i>\r\n            <span>全选</span>\r\n          </div>\r\n          <div class=\"right flex-c\">\r\n            <div class=\"total\" v-if=\"!del_mode\">\r\n              <span>合计：</span>\r\n              <span class=\"price\">￥{{ total_price }}</span>\r\n            </div>\r\n            <BuyButton name=\"立即购买\" size=\"L\" @clickBtn=\"btnEvent\"></BuyButton>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 待补充 -->\r\n      <div v-if=\"tab_index == 3\">\r\n        <div\r\n          v-for=\"(item, index) in list\"\r\n          :key=\"index\"\r\n        >\r\n          <div class=\"replenish-box\">\r\n            <div class=\"replenish-item\">\r\n              <img\r\n                :src=\"item.img + imgProcess.wh200\"\r\n                class=\"replenish-img\"\r\n              />\r\n              <div class=\"replenish-top\">\r\n                <div class=\"replenish-top-title flex-c\">\r\n                  <div class=\"flex-1 title\">{{item.product_name}}</div>\r\n                  <div class=\"num\">×{{item.product_num || 0}}</div>\r\n                </div>\r\n                <div\r\n                  class=\"replenish-top-text flex-c\"\r\n                  v-for=\"(it, k) in item.product_span\"\r\n                  :key=\"k\"\r\n                >\r\n                  <div class=\"flex-1 title\">{{it.name}}</div>\r\n                  <div class=\"num\">×{{it.num || 0}}</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"replenish-bottom\">\r\n                <div class=\"replenish-bottom-title\">能帮您什么？</div>\r\n                <div class=\"replenish-bottom-text\">{{item.content}}</div>\r\n                <div class=\"flex-ec\">\r\n                  <div class=\"replenish-bottom-btn\">\r\n                    <BuyButton\r\n                      name=\"加入购物车\"\r\n                      size=\"XS\"\r\n                      @clickBtn=\"AddCart(item)\"\r\n                    ></BuyButton>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <MenuGroup :customobj=\"customobj\"></MenuGroup>\r\n    <!-- 单品规格弹窗 -->\r\n    <GuigePopup\r\n      :show.sync=\"guige_popup_show\"\r\n      :guige_open_type=\"guige_open_type\"\r\n      :goods_id=\"goods_id\"\r\n      @updateCart=\"RefreshList\"\r\n      ref=\"GuigePopup\"\r\n    ></GuigePopup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport qs from 'qs'\r\nimport Tab from '@/components/common/tab/tab'\r\nimport Classes from '@/components/my/family/classes'\r\nimport BuyButton from '@/components/common/button/button'\r\nimport MenuGroup from '@/components/common/menu/share'\r\nimport GuigePopup from '@/components/mall/goodsDetail/guigePopup'\r\nimport Stepper from '@/components/common/stepper/square-car'\r\nimport { Pageshare } from '@/utils/Mixin'\r\nexport default {\r\n  mixins: [Pageshare],\r\n  components: {\r\n    Tab,\r\n    Classes,\r\n    BuyButton,\r\n    MenuGroup,\r\n    GuigePopup,\r\n    Stepper\r\n  },\r\n  data () {\r\n    return {\r\n      imgProcess: this.$imgProcess,\r\n      tab_list: [{\r\n        name: '课堂学习',\r\n        type: 1\r\n      }, {\r\n        name: '现有器材',\r\n        type: 2\r\n      }, {\r\n        name: '即将过期',\r\n        type: 3\r\n      }, {\r\n        name: '待补充',\r\n        type: 4\r\n      }],\r\n      tab_index: 0,\r\n      page: 1,\r\n      limit: 10,\r\n      total_pages: 1,\r\n      tags: [\r\n        '学习消防知识，还能获取护照积分',\r\n        '配齐家庭消防器材，全方位呵护家庭安全',\r\n        '配齐家庭消防器材，全方位呵护家庭安全',\r\n        ''\r\n      ],\r\n      loadSuccess: false,\r\n      recommend: [],\r\n      list: [],\r\n      load_more_status: true,\r\n      sharePageKey: 'passport',\r\n      customobj: {\r\n        profile: 'bottom: 320rpx;',\r\n        share: 'bottom: 220rpx;',\r\n        cart: 'bottom: 120rpx;'\r\n      },\r\n      guige_type: '1',\r\n      goods_id: 0,\r\n      spec_id: 0,\r\n      guige_open_type: 0,\r\n      guige_popup_show: false,\r\n      total_price: 0\r\n    }\r\n  },\r\n  mounted () {\r\n    this.tab_index = parseInt(this.$root.$mp.query.index)\r\n    this.getList()\r\n  },\r\n  computed: {\r\n    allchecked () {\r\n      return this.list && this.list.length && this.list.findIndex(item => !item.checked) === -1\r\n    }\r\n  },\r\n  methods: {\r\n    changeCartNum (item, index) {\r\n      this.calculationOverdueListPrice()\r\n    },\r\n    AddCart (item) {\r\n      this.goods_id = item.goods_id\r\n      this.spec_id = item.spec_id\r\n      wx.nextTick(() => {\r\n        this.$refs['GuigePopup'].guige_index = 0\r\n        this.$refs['GuigePopup'].goods_num = item.order_count || 1\r\n        this.$refs['GuigePopup'].spec_id = 0\r\n        this.$refs['GuigePopup']['getGuige']()\r\n      })\r\n      this.guige_popup_show = true\r\n    },\r\n    selectItem (item, index) {\r\n      item.checked = !item.checked\r\n      this.list.splice(index, 1, item)\r\n      this.calculationOverdueListPrice()\r\n    },\r\n    selectItemAll () {\r\n      this.list = this.list.map(item => ({ ...item, checked: !this.allchecked }))\r\n      this.calculationOverdueListPrice()\r\n    },\r\n    async getList () {\r\n      let args = {\r\n        url: this.api('getFamilyList'),\r\n        data: {\r\n          page: this.page,\r\n          limit: this.limit,\r\n          type: this.tab_index + 1\r\n        },\r\n        loading: true\r\n      }\r\n      let res = await this.get(args)\r\n      if (res.status) {\r\n        if (this.page === res.data.total_pages) {\r\n          this.load_more_status = false\r\n        }\r\n        if (this.tab_index === 2 && res.data.items) {\r\n          res.data.items = res.data.items.map(item => ({\r\n            ...item,\r\n            order_count_copy: item.order_count,\r\n            add_time_text: this.$Tool.FormatTime(item.add_time * 1000, 'YYYY-MM-DD')\r\n          }))\r\n        }\r\n        this.list = this.page === 1 ? res.data.items : this.list.concat(res.data.items)\r\n        this.total_pages = parseInt(res.data.total_pages)\r\n        if (this.tab_index === 0) {\r\n          this.recommend = this.page === 1 ? res.data.recommend_list : this.recommend.concat(res.data.recommend_list)\r\n        } else if (this.tab_index === 3) {\r\n          this.tags[3] = res.data.announcement\r\n        }\r\n      }\r\n    },\r\n    clickTab (index) {\r\n      this.page = 1\r\n      this.list = []\r\n      this.load_more_status = true\r\n      this.getList()\r\n    },\r\n    Showfun () {\r\n      let obj = {}\r\n      switch (this.tab_index) {\r\n        case 0:\r\n          obj = { content_type: 'classroom' }\r\n          break\r\n        case 1:\r\n          obj = { content_type: 'equipment' }\r\n          break\r\n        case 2:\r\n          obj = { content_type: 'overdue' }\r\n          break\r\n        case 3:\r\n          obj = { content_type: 'wait' }\r\n          break\r\n      }\r\n      this.$Tool.SetRecordParameter(obj)\r\n    },\r\n    buy () {},\r\n    async btnEvent () {\r\n      let list = this.list.filter(item => item.checked).map(item => ({\r\n        goods_id: item.goods_id,\r\n        goods_num: item.order_count_copy,\r\n        spec_id: item.spec_id\r\n      }))\r\n\r\n      let args = {\r\n        url: this.api('batchAddGoods'),\r\n        data: {\r\n          cart_list: JSON.stringify(list)\r\n        },\r\n        loading: true\r\n      }\r\n\r\n      let res = await this.post(args)\r\n\r\n      if (res.status) {\r\n        if(res.data.cart_ids&&res.data.cart_ids.length>0){\r\n          console.log('获取post请求返回的加入购物车的cart_ids：',res.data.cart_ids.join(','))\r\n          this.$nav('confirm', { cart_ids: res.data.cart_ids.join(',') })\r\n        }else {\r\n           this.$toast('获取购物车失败')\r\n        }\r\n      } else {\r\n        this.$toast(res.msg)\r\n      }\r\n    },\r\n    RefreshList () {\r\n      this.page = 1\r\n      this.getList()\r\n      this.load_more_status = true\r\n    },\r\n    async calculationOverdueListPrice () {\r\n      let list = []\r\n      this.list.forEach(item => {\r\n        if (item.checked) {\r\n          list.push({\r\n            goods_id: item.goods_id,\r\n            goods_num: item.order_count_copy,\r\n            spec_id: item.spec_id\r\n          })\r\n        }\r\n      })\r\n      let args = {\r\n        url: this.api('calculationOverdueListPrice'),\r\n        data: qs.stringify({ list }),\r\n        header: {\r\n          'content-type': 'application/x-www-form-urlencggoded;charset=UTF-8'\r\n        },\r\n        loading: false\r\n      }\r\n      let res = await this.post(args)\r\n      if (res.status) {\r\n        this.total_price = res.data.total_price\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    tab_index () {\r\n      this.Showfun()\r\n    }\r\n  },\r\n  onPullDownRefresh () {\r\n    this.RefreshList()\r\n    wx.stopPullDownRefresh()\r\n  },\r\n  onReachBottom () {\r\n    if (this.load_more_status && this.tab_index !== 0) {\r\n      this.page++\r\n      this.getList()\r\n    }\r\n  },\r\n  onShareAppMessage () {\r\n    this.$Tool.SetRecordScene({\r\n      page: 'share',\r\n      content_type: 'share_page',\r\n      content_id: this.sharePageTitle\r\n    })\r\n    return {\r\n      title: this.tab_index ? '  ' : this.sharePageTitle,\r\n      path: `/pages/my/family/main?index=${this.tab_index}&uid=${this.uid}&t=s`\r\n    }\r\n  },\r\n  onUnload () {\r\n    this.$Tool.SetBrowseID()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.family {\r\n  .replenish-box {\r\n    margin-bottom: 20rpx;\r\n    padding-top: 45rpx;\r\n    margin-top: 20rpx;\r\n    position: relative;\r\n  }\r\n  .replenish-item {\r\n    border-radius: 10rpx;\r\n    padding: 24rpx 20rpx;\r\n    box-sizing: border-box;\r\n    background-color: #fff;\r\n    .replenish-img {\r\n      width: 280rpx;\r\n      height: 280rpx;\r\n      position: absolute;\r\n      top: 0;\r\n      left: 20rpx;\r\n      border-radius: 10rpx;\r\n      z-index: 10;\r\n    }\r\n    .replenish-top {\r\n      min-height: 230rpx;\r\n      padding-left: 300rpx;\r\n      border-bottom: 2rpx solid #e5e5e5;\r\n    }\r\n    .replenish-bottom {\r\n      padding-top: 20rpx;\r\n      .replenish-bottom-title {\r\n        font-size: 28rpx;\r\n        color: #dc1c1c;\r\n        margin-bottom: 10rpx;\r\n      }\r\n      .replenish-bottom-text {\r\n        font-size: 24rpx;\r\n        color: #666;\r\n        white-space: pre-wrap;\r\n        margin-bottom: 10rpx;\r\n      }\r\n      .replenish-bottom-btn {\r\n        width: 180rpx;\r\n      }\r\n    }\r\n    .replenish-top-text {\r\n      color: #333;\r\n      text-align: right;\r\n      margin-bottom: 10rpx;\r\n      .title {\r\n        font-size: 26rpx;\r\n      }\r\n      .num {\r\n        font-size: 26rpx;\r\n        min-width: 86rpx;\r\n      }\r\n      &:last-child {\r\n        margin-bottom: 0;\r\n      }\r\n    }\r\n    .replenish-top-title {\r\n      color: #dc1c1c;\r\n      text-align: right;\r\n      margin-bottom: 18rpx;\r\n      font-weight: bold;\r\n      .title {\r\n        font-size: 30rpx;\r\n      }\r\n      .num {\r\n        font-size: 26rpx;\r\n        min-width: 86rpx;\r\n      }\r\n    }\r\n  }\r\n  .icon-box {\r\n    margin-right: 20rpx;\r\n    align-self: stretch;\r\n    .iconfont {\r\n      .f(44);\r\n    }\r\n  }\r\n  .goodsimgbox {\r\n    position: relative;\r\n    border-radius: 10rpx;\r\n    overflow: hidden;\r\n    margin-right: 16rpx;\r\n    .goodsimgboxtop {\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      background-color: rgba(0, 0, 0, 0.5);\r\n      color: #fff;\r\n      font-size: 30rpx;\r\n      top: 0;\r\n      left: 0;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n    }\r\n  }\r\n  .bottom-fixed,\r\n  .bottom-fixed-h {\r\n    height: 100rpx;\r\n  }\r\n  .bottom-fixed {\r\n    padding: 0 30rpx;\r\n    .bg;\r\n    .left {\r\n      font-size: 32rpx;\r\n      color: #333333;\r\n      .iconfont {\r\n        margin-right: 20rpx;\r\n        .f(44);\r\n      }\r\n    }\r\n    .right {\r\n      font-size: 30rpx;\r\n      color: #333333;\r\n      .total {\r\n        margin-right: 30rpx;\r\n      }\r\n      .price {\r\n        font-size: 32rpx;\r\n      }\r\n    }\r\n  }\r\n  .below {\r\n    padding: 124rpx 24rpx 0 24rpx;\r\n    box-sizing: border-box;\r\n    .tag {\r\n      background-color: #e8eeff;\r\n      border-radius: 10rpx;\r\n      padding: 24rpx 20rpx;\r\n      text-align: center;\r\n      color: @theme-color;\r\n      font-size: 30rpx;\r\n      white-space: pre-wrap;\r\n    }\r\n    .item {\r\n      padding: 20rpx;\r\n      background: #fff;\r\n      display: flex;\r\n      align-items: center;\r\n      margin-bottom: 20rpx;\r\n      .br(10rpx);\r\n      .itembtn {\r\n        width: 200rpx;\r\n      }\r\n      img {\r\n        .w(220rpx);\r\n        .h(220rpx);\r\n        .br(10rpx);\r\n        // margin-right: 16rpx;\r\n      }\r\n      .content {\r\n        flex: 1;\r\n        align-self: stretch;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        font-size: 26rpx;\r\n        color: #999;\r\n        .content-title {\r\n          font-weight: bold;\r\n          color: #333;\r\n          font-size: 30rpx;\r\n          margin-bottom: 10rpx;\r\n          .line-clamp-multi(2);\r\n        }\r\n        .content-title2 {\r\n          .line-clamp-multi(1);\r\n        }\r\n        .bottom {\r\n          margin-bottom: 10rpx;\r\n          // display: flex;\r\n          // justify-content: space-between;\r\n          // align-items: center;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .waiting {\r\n    color: #999;\r\n    padding-top: 400rpx;\r\n    font-size: 32rpx;\r\n    text-align: center;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=02f709da&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=02f709da&lang=less&scoped=true&\""],"sourceRoot":""}