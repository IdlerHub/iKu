{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/classroom/consult/main.vue?07fc","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/classroom/consult/main.vue?2403","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/classroom/consult/main.vue?68e5","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/classroom/consult/main.vue?5133","uni-app:///pages/classroom/consult/main.vue","webpack:///C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/classroom/consult/main.vue?15fd"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","NameCard","ToastS","ToastM","wxParse","OfficialAccount","ScrollClass","MenuGroup","data","loading","employee_no","detail","showModal","thumb_show","choose_show","isConsult","uid","onLoad","Object","assign","$options","onShow","onInit","getUid","methods","wx","getStorage","key","success","onChoose","user_exclusive_employee_no","uni","title","content","cancelColor","cancelText","confirmColor","confirmText","res","cancel","that","chooseConsultant","onShareAppMessage","$Tool","SetRecordScene","page","content_type","content_id","share_name","employee_name","path","onUnload","SetBrowseID"],"mappings":";;;;wEAAA,qBACA,sBACA,qD,mDACAA,EAAWC,a;;;;2DCHX,0SACIC,EADJ,8KASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,mCACZ,aAAAF,E;;;;2GCvBf,2qC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,sxBAA+tB,eAAG,G;;;;ioECgDluB,CACEV,WAAY,CACVW,SAAJ,EAEIC,OAAJ,EACIC,OAAJ,EACIC,QAAJ,EACIC,gBAAJ,EACIC,YAAJ,EACIC,UAAJ,GAEEC,KAXF,WAYI,MAAO,CACLC,SAAS,EACTC,YAAa,GACbC,OAAQ,GACRC,WAAW,EACXC,YAAY,EACZC,aAAa,EACbC,WAAW,EACXC,IAAK,KAGTC,OAvBF,WAwBIC,OAAOC,OAAO1B,KAAMA,KAAK2B,SAASZ,SAEpCa,OA1BF,WA2BI5B,KAAK6B,SACL7B,KAAK8B,UAMPC,QAAS,CAEPD,OAFJ,WAEA,WACME,GAAGC,WAAW,CACZC,IAAK,MACLC,QAAS,SAAjB,GACU,EAAV,eAII,OAVJ,WAUA,gIACA,mCACA,wCAFA,SAIA,wBAJA,OAKA,aACA,qBANA,8CAYI,oBAtBJ,WAsBA,0IACA,GACA,mCACA,MACA,2BAEA,mBANA,SAQA,SARA,OAQA,EARA,OASA,UACA,SAEA,kDACA,WACA,oCACA,0CAEA,aACA,6BACA,cAGA,aAtBA,8CAyBI,mBA/CJ,SA+CA,2IACA,GACA,gCACA,MACA,YACA,MACA,cACA,kCACA,SARA,SAWA,SAXA,OAWA,EAXA,OAYA,UACA,MACA,gBACA,OACA,cACA,aACA,cAIA,eAEA,yBAEA,aACA,6BACA,cA5BA,8CAgCIC,SA/EJ,WAgFM,IAAN,OACqD,MAA3CpC,KAAKkB,OAAOmB,2BACdC,EAAInB,UAAU,CACZoB,MAAO,YACPC,QAAS,6BACTC,YAAa,UACbC,WAAY,KACZC,aAAc,UACdC,YAAa,KACbT,QAAS,SAAnB,GACgBU,EAAIC,QACNC,EAAKC,sBAKXD,EAAKC,oBAIT,iBApGJ,WAoGA,wIACA,GACA,8BACA,MACA,4BAJA,SAOA,SAPA,OAOA,EAPA,OAQA,UACA,iBAEA,yBAEA,aACA,6BACA,cAfA,+CAoBEC,kBA1JF,WAgKI,OALAjD,KAAKkD,MAAMC,eAAe,CACxBC,KAAM,QACNC,aAAc,aACdC,WAAYtD,KAAKkB,OAAOqC,YAAcvD,KAAKkB,OAAOsC,eAAiB,KAE9D,CACLjB,MAAOvC,KAAKkB,OAAOqC,YAAcvD,KAAKkB,OAAOsC,eAAiB,GAC9DC,KAAM,oCAAZ,2DAGEC,SArKF,WAsKI1D,KAAKkD,MAAMS,gB;;;;2DCtNf,w4CAA01C,eAAG,G","file":"pages/classroom/consult/main.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/classroom/consult/main.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./main.vue?vue&type=template&id=decbf81e&scoped=true&\"\nvar renderjs\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=decbf81e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"decbf81e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/classroom/consult/main.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=decbf81e&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"consult\" v-if=\"!loading\">\r\n    <NameCard\r\n      :info=\"detail\"\r\n      @choose=\"onChoose\"\r\n      @thumbUp=\"thumbsUpConsultant(1)\"\r\n      @cancelThumb=\"thumbsUpConsultant(2)\"\r\n    ></NameCard>\r\n    <div class=\"card\">\r\n      <div class=\"title c3\">服务专员简介</div>\r\n      <div class=\"c6\" v-if=\"detail.title\">\r\n        <wxParse :content=\"detail.title\"></wxParse>\r\n      </div>\r\n    </div>\r\n    <div class=\"card\">\r\n      <div class=\"title c3\">活动预告</div>\r\n      <div class=\"box c6\">精彩内容，敬请期待！</div>\r\n    </div>\r\n    <div class=\"card\">\r\n      <div class=\"title c3\">往期课堂</div>\r\n      <ScrollClass :list=\"detail.class_list || []\"></ScrollClass>\r\n    </div>\r\n    <OfficialAccount></OfficialAccount>\r\n    <!-- 取消点赞弹窗 -->\r\n    <!-- <Like \r\n      :showModal=\"showModal\" \r\n      @closeModal=\"showModal = false\" \r\n      @like=\"thumbsUpConsultant(1)\"\r\n    ></Like> -->\r\n    <!-- <template v-if=\"!showModal\"> -->\r\n    <MenuGroup></MenuGroup>\r\n    <!-- </template> -->\r\n    <ToastS :show.sync=\"thumb_show\" title=\"点赞成功\"></ToastS>\r\n    <ToastM :show.sync=\"choose_show\" title=\"已成为您的服务专员\"></ToastM>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NameCard from \"@/components/classroom/name-card\";\r\n// import Like from '@/components/classroom/like'\r\nimport MenuGroup from \"@/components/common/menu/menuGroup\";\r\nimport ToastS from \"@/components/common/toast/toast-s\";\r\nimport ToastM from \"@/components/common/toast/toast-m\";\r\n// import wxParse from 'mpvue-wxparse'\r\nimport wxParse from \"@/components/common/wxParse/wxParse\";\r\nimport OfficialAccount from \"@/components/common/official-account/official-account\";\r\nimport ScrollClass from \"@/components/classroom/scrollClass\";\r\n\r\nexport default {\r\n  components: {\r\n    NameCard,\r\n    // Like,\r\n    ToastS,\r\n    ToastM,\r\n    wxParse,\r\n    OfficialAccount,\r\n    ScrollClass,\r\n    MenuGroup,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      employee_no: \"\",\r\n      detail: \"\",\r\n      showModal: false,\r\n      thumb_show: false,\r\n      choose_show: false,\r\n      isConsult: false, // 扫码设置服务专员\r\n      uid: \"\",\r\n    };\r\n  },\r\n  onLoad() {\r\n    Object.assign(this, this.$options.data());\r\n  },\r\n  onShow() {\r\n    this.onInit();\r\n    this.getUid();\r\n    // this.$Tool.SetRecordParameter({\r\n    //   page: 'user',\r\n    //   content_type: 'employee'\r\n    // })\r\n  },\r\n  methods: {\r\n    // 获取用户分享id\r\n    getUid() {\r\n      wx.getStorage({\r\n        key: \"uid\",\r\n        success: (res) => {\r\n          this.uid = res.data;\r\n        },\r\n      });\r\n    },\r\n    async onInit() {\r\n      this.employee_no = this.$root.$mp.query.id;\r\n      this.isConsult = this.$root.$mp.query.isConsult;\r\n\r\n      await this.getConsultantDetail();\r\n      if (this.isConsult) {\r\n        this.chooseConsultant();\r\n      } else {\r\n        // this.showModal = this.detail.today_is_thumbs_up === 0\r\n      }\r\n    },\r\n    // 顾问详情\r\n    async getConsultantDetail() {\r\n      let args = {\r\n        url: this.api(\"getConsultantDetailV2\"),\r\n        data: {\r\n          employee_no: this.employee_no,\r\n        },\r\n        loading: this.loading,\r\n      };\r\n      let res = await this.get(args);\r\n      if (res.status) {\r\n        let re = res.data;\r\n\r\n        re.today_is_thumbs_up = Number(re.today_is_thumbs_up);\r\n        this.detail = re;\r\n        this.detail.user_exclusive_employee_no =\r\n          this.detail.user_exclusive_employee_no || \"0\";\r\n      } else {\r\n        uni.showToast({\r\n          title: res.msg ? res.msg : \"系统繁忙,请稍候\",\r\n          icon: \"none\",\r\n        });\r\n      }\r\n      this.loading = false;\r\n    },\r\n    // 点赞\r\n    async thumbsUpConsultant(type) {\r\n      let args = {\r\n        url: this.api(\"thumbsUpConsultant\"),\r\n        data: {\r\n          employee_no:\r\n            type === 1\r\n              ? this.employee_no\r\n              : this.detail.today_thumbs_up_employee,\r\n          type: type,\r\n        },\r\n      };\r\n      let res = await this.get(args);\r\n      if (res.status) {\r\n        if (type === 1) {\r\n          this.thumb_show = true;\r\n        } else if (type === 2) {\r\n          wx.showToast({\r\n            title: \"取消点赞\",\r\n            icon: \"none\",\r\n          });\r\n        }\r\n\r\n        this.showModal = false;\r\n        // 点赞成功，详情更新\r\n        this.getConsultantDetail();\r\n      } else {\r\n        uni.showToast({\r\n          title: res.msg ? res.msg : \"系统繁忙,请稍候\",\r\n          icon: \"none\",\r\n        });\r\n      }\r\n    },\r\n    onChoose() {\r\n      let that = this;\r\n      if (this.detail.user_exclusive_employee_no !== \"0\") {\r\n        uni.showModal({\r\n          title: \"是否更换服务专员？\",\r\n          content: \"您已经选择其他专员为您的专属服务专员，确定要更换吗？\",\r\n          cancelColor: \"#0a2d8f\",\r\n          cancelText: \"确定\",\r\n          confirmColor: \"#000000\",\r\n          confirmText: \"取消\",\r\n          success: (res) => {\r\n            if (res.cancel) {\r\n              that.chooseConsultant();\r\n            }\r\n          },\r\n        });\r\n      } else {\r\n        that.chooseConsultant();\r\n      }\r\n    },\r\n    // 选为专员\r\n    async chooseConsultant() {\r\n      let args = {\r\n        url: this.api(\"chooseConsultant\"),\r\n        data: {\r\n          employee_no: this.employee_no,\r\n        },\r\n      };\r\n      let res = await this.get(args);\r\n      if (res.status) {\r\n        this.choose_show = true;\r\n        // 选为专员成功，详情更新\r\n        this.getConsultantDetail();\r\n      } else {\r\n        uni.showToast({\r\n          title: res.msg ? res.msg : \"系统繁忙,请稍候\",\r\n          icon: \"none\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n  onShareAppMessage() {\r\n    this.$Tool.SetRecordScene({\r\n      page: \"share\",\r\n      content_type: \"share_page\",\r\n      content_id: this.detail.share_name || this.detail.employee_name || \"\",\r\n    });\r\n    return {\r\n      title: this.detail.share_name || this.detail.employee_name || \"\",\r\n      path: `/pages/classroom/consult/main?id=${this.employee_no}&uid=${this.uid}&t=s`,\r\n    };\r\n  },\r\n  onUnload() {\r\n    this.$Tool.SetBrowseID();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.c3 {\r\n  color: #333;\r\n}\r\n.c6 {\r\n  color: #666;\r\n}\r\n.consult {\r\n  padding: 20rpx 30rpx;\r\n  .card {\r\n    margin-top: 20rpx;\r\n    .bg(#fff);\r\n    border-radius: 10rpx;\r\n    padding: 30rpx 20rpx;\r\n    .fz(26rpx);\r\n    .title {\r\n      .fz(30rpx);\r\n      font-weight: bold;\r\n      margin-bottom: 40rpx;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n    .box {\r\n      text-align: center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=decbf81e&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=decbf81e&lang=less&scoped=true&\""],"sourceRoot":""}