(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/main"],{32:
/*!*********************************************************************************************!*\
  !*** C:/Users/Idler/Documents/HBuilderProjects/iKu/main.js?{"page":"pages%2Findex%2Fmain"} ***!
  \*********************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){n(/*! uni-pages */4);o(n(/*! vue */2));var t=o(n(/*! ./pages/index/main.vue */33));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},33:
/*!**************************************************************************!*\
  !*** C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/index/main.vue ***!
  \**************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./main.vue?vue&type=template&id=3120bf0f&scoped=true& */34),r=n(/*! ./main.vue?vue&type=script&lang=js& */36);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n(/*! ./main.vue?vue&type=style&index=0&id=3120bf0f&lang=less&scoped=true& */41);var a,s=n(/*! ../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */16),c=Object(s["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,"3120bf0f",null,!1,o["components"],a);c.options.__file="pages/index/main.vue",t["default"]=c.exports},34:
/*!*********************************************************************************************************************!*\
  !*** C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/index/main.vue?vue&type=template&id=3120bf0f&scoped=true& ***!
  \*********************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=3120bf0f&scoped=true& */35);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},35:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/index/main.vue?vue&type=template&id=3120bf0f&scoped=true& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return r})),n.d(t,"staticRenderFns",(function(){return a})),n.d(t,"recyclableRender",(function(){return i})),n.d(t,"components",(function(){return o}));var r=function(){var e=this,t=e.$createElement;e._self._c},i=!1,a=[];r._withStripped=!0},36:
/*!***************************************************************************************************!*\
  !*** C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/index/main.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js& */37),r=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=r.a},37:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/index/main.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(/*! ./node_modules/@babel/runtime/regenerator */10)),r=n(/*! @/utils/Mixin */38);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(o,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function s(e){a(i,o,r,s,c,"next",e)}function c(e){a(i,o,r,s,c,"throw",e)}s(void 0)}))}}var c=function(){n.e(/*! require.ensure | components/common/swiper/index */"components/common/swiper/index").then(function(){return resolve(n(/*! @/components/common/swiper/index */381))}.bind(null,n)).catch(n.oe)},u=function(){n.e(/*! require.ensure | components/common/search/search-default */"components/common/search/search-default").then(function(){return resolve(n(/*! @/components/common/search/search-default */388))}.bind(null,n)).catch(n.oe)},l=function(){n.e(/*! require.ensure | components/index/heading */"components/index/heading").then(function(){return resolve(n(/*! @/components/index/heading */395))}.bind(null,n)).catch(n.oe)},d=function(){n.e(/*! require.ensure | components/common/menu/menuGroup */"components/common/menu/menuGroup").then(function(){return resolve(n(/*! @/components/common/menu/menuGroup */402))}.bind(null,n)).catch(n.oe)},p=function(){n.e(/*! require.ensure | components/common/official-account/official-account */"components/common/official-account/official-account").then(function(){return resolve(n(/*! @/components/common/official-account/official-account */407))}.bind(null,n)).catch(n.oe)},f=function(){n.e(/*! require.ensure | components/coupon/newCouponPoper */"components/coupon/newCouponPoper").then(function(){return resolve(n(/*! @/components/coupon/newCouponPoper */412))}.bind(null,n)).catch(n.oe)},h={mixins:[r.Pageshare],components:{Swiper:c,Search:u,Heading:l,MenuGroup:d,OfficialAccount:p,CouponPoper:f},data:function(){return{imgProcess:this.$imgProcess,loading:!0,swiper_list:[],live_title:"直播间",live_list:[],goods_title:"",consultant_title:"",course_title:"",goods_list:[],consultant_list:[],course_list:[],coupon_get:!1,coupon_show:!1,coupon_list:[],scane_statue:!1,sharePageKey:"home",close_shareContent:!0}},onLoad:function(){wx.showLoading({title:"加载中",mask:!0})},onShow:function(){var e=this;return s(o.default.mark((function t(){var n;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getIndex();case 2:return n=wx.getStorageSync("appp_on_hide"),1===parseInt(n)&&(e.coupon_get=!1,wx.setStorageSync("appp_on_hide",0)),t.next=6,e.getCoupon();case 6:case"end":return t.stop()}}),t)})))()},methods:{GoLive:function(e){this.createLiveBrowseLog(e),wx.navigateTo({url:e.url})},createLiveBrowseLog:function(e){var t={url:this.api("createLiveBrowseLog"),data:{roomid:e.id}};this.post(t)},getCouponF:function(){var e=this,t={url:this.api("getHomeCouponV2"),goLogin:!1};this.get(t).then((function(t){e.coupon_get=!0,e.coupon_list=t.data||[],e.coupon_list.length>0&&(e.coupon_show=!0)}))},getCoupon:function(){var e=this;if(!this.coupon_get||this.coupon_show){var t={url:this.api("getHomeCouponV2"),goLogin:!1};this.get(t).then((function(t){e.coupon_get=!0,e.coupon_list=t.data||[],e.coupon_list.length>0?e.coupon_show=!0:e.coupon_show=!1}))}},clickSwiper:function(e){var t=e.target_type;switch(console.log(e.target_type,e.target),t){case"goods":this.$nav("goodsDetail",{product_sn:e.target});break;case"employee":this.$nav("consult",{id:e.target});break;case"class":this.$nav("class",{id:e.target});break;case"article":this.$nav("article",{id:e.target});break}},getIndex:function(){var t=this;return s(o.default.mark((function n(){var r,i,a;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={url:t.api("getIndex"),loading:t.loading},n.next=3,t.httpGet(r);case 3:i=n.sent,console.log("首页数据：",i),t.loading=!1,i.status?(a=i.data,t.swiper_list=a.banner?a.banner:[],t.goods_list=a.product,t.consultant_list=a.consultants,t.course_list=a.class,t.goods_title=a.product_title,t.consultant_title=a.consultant_title,t.course_title=a.class_title,t.live_title=a.live_title,t.live_list=a.live.map((function(e){return{photo_url:e.share_img,id:e.roomid,title:e.name,url:"plugin-private://wx2b03c6e691cd7370/pages/live-player-plugin?room_id=".concat(e.roomid)}}))):e.showToast({title:i.msg?i.msg:"系统繁忙,请稍候",icon:"none"}),console.log("首页loading，等于false代表加载完成：",t.loading),t.getCartList(),t.shareContent(),t.isConsult(),t.$Tool.SetRecordParameter(),wx.hideLoading();case 13:case"end":return n.stop()}}),n)})))()},isConsult:function(){var e=this;return s(o.default.mark((function t(){var n,r,i,a,s;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$root.$mp.query.scene){t.next=2;break}return t.abrupt("return");case 2:if(n=decodeURIComponent(e.$root.$mp.query.scene).split("_"),console.log("scene",n),"undefined"===n[0]){t.next=16;break}if(r=n.findIndex((function(e){return"employee"===e})),!r&&0!==r){t.next=15;break}return i=n[r+1],a={url:e.api("chooseConsultant"),data:{employee_no:i}},t.next=11,e.post(a);case 11:s=t.sent,s.status&&(console.log("专员绑定"),e.handleScene(n)),t.next=16;break;case 15:e.handleScene(n);case 16:case"end":return t.stop()}}),t)})))()},handleScene:function(t){this.scane_statue||("employee"===t[0]?(wx.navigateTo({url:"/pages/classroom/consult/main?id=".concat(t[1],"&isConsult=true")}),this.scane_statue=!0):"query"===t[0]&&(e.setStorageSync("code",t[1]),e.setStorageSync("employee",t[3]),wx.switchTab({url:"/pages/mall/index/main"}),this.scane_statue=!0))},getCartList:function(){var t=this;return s(o.default.mark((function n(){var r,i,a;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.getStorageSync("loginUserinfo")?e.getStorageSync("loginUserinfo").openId:"",i={url:t.api("getMyCartNum"),loading:!1,open_id:r},n.next=4,t.get(i);case 4:a=n.sent,a.status&&a.data&&parseInt(a.data.shop_cart_goods_num)>0?wx.setTabBarBadge({index:3,text:a.data.shop_cart_goods_num.toString()}):wx.removeTabBarBadge({index:3});case 6:case"end":return n.stop()}}),n)})))()}},onShareAppMessage:function(){return this.$Tool.SetRecordScene({page:"share",content_type:"share_page",content_id:this.sharePageTitle}),{title:this.sharePageTitle,path:"/pages/index/main?uid=".concat(this.uid,"&t=s")}},onPullDownRefresh:function(){e.hideNavigationBarLoading(),e.stopPullDownRefresh(),this.getIndex()},onUnload:function(){this.$Tool.SetBrowseID()}};t.default=h}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},41:
/*!************************************************************************************************************************************!*\
  !*** C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/index/main.vue?vue&type=style&index=0&id=3120bf0f&lang=less&scoped=true& ***!
  \************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-2!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--10-oneOf-1-3!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-5!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../MyProgram/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&id=3120bf0f&lang=less&scoped=true& */42),r=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=r.a},42:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-2!./node_modules/postcss-loader/src??ref--10-oneOf-1-3!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Idler/Documents/HBuilderProjects/iKu/pages/index/main.vue?vue&type=style&index=0&id=3120bf0f&lang=less&scoped=true& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}},[[32,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/main.js.map